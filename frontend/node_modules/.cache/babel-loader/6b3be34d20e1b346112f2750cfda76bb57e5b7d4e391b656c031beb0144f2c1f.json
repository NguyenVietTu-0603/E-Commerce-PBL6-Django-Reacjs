{"ast":null,"code":"const TARGET_SELECTOR = '.cart-btn';\nfunction getElement(elOrSelector) {\n  if (!elOrSelector) return null;\n  if (typeof elOrSelector === 'string') {\n    return document.querySelector(elOrSelector);\n  }\n  return elOrSelector;\n}\nexport default function flyToCart(sourceEl, options = {}) {\n  if (typeof document === 'undefined' || typeof window === 'undefined') return;\n  const source = getElement(sourceEl || options.sourceSelector);\n  if (!source) return;\n  const target = getElement(options.targetSelector || TARGET_SELECTOR);\n  if (!target) return;\n  const sourceRect = source.getBoundingClientRect();\n  const targetRect = target.getBoundingClientRect();\n  if (!sourceRect.width || !sourceRect.height) return;\n  const clone = source.cloneNode(true);\n  clone.classList.add('fly-to-cart-clone');\n  clone.style.position = 'fixed';\n  clone.style.pointerEvents = 'none';\n  clone.style.margin = '0';\n  clone.style.top = `${sourceRect.top}px`;\n  clone.style.left = `${sourceRect.left}px`;\n  clone.style.width = `${sourceRect.width}px`;\n  clone.style.height = `${sourceRect.height}px`;\n  clone.style.transition = 'transform 0.7s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.7s ease';\n  clone.style.willChange = 'transform, opacity';\n  clone.style.opacity = '0.9';\n  document.body.appendChild(clone);\n  const deltaX = targetRect.left + targetRect.width / 2 - (sourceRect.left + sourceRect.width / 2);\n  const deltaY = targetRect.top + targetRect.height / 2 - (sourceRect.top + sourceRect.height / 2);\n  const scale = Math.max(0.25, Math.min(0.4, targetRect.width / sourceRect.width));\n  requestAnimationFrame(() => {\n    clone.style.transform = `translate3d(${deltaX}px, ${deltaY}px, 0) scale(${scale})`;\n    clone.style.opacity = '0.2';\n  });\n  const cleanup = () => {\n    clone.removeEventListener('transitionend', cleanup);\n    clone.remove();\n  };\n  clone.addEventListener('transitionend', cleanup);\n  target.classList.add('cart-btn--pulse');\n  window.setTimeout(() => target.classList.remove('cart-btn--pulse'), 600);\n}","map":{"version":3,"names":["TARGET_SELECTOR","getElement","elOrSelector","document","querySelector","flyToCart","sourceEl","options","window","source","sourceSelector","target","targetSelector","sourceRect","getBoundingClientRect","targetRect","width","height","clone","cloneNode","classList","add","style","position","pointerEvents","margin","top","left","transition","willChange","opacity","body","appendChild","deltaX","deltaY","scale","Math","max","min","requestAnimationFrame","transform","cleanup","removeEventListener","remove","addEventListener","setTimeout"],"sources":["C:/VIET/PBL6/main/frontend/src/utils/flyToCart.js"],"sourcesContent":["const TARGET_SELECTOR = '.cart-btn';\r\n\r\nfunction getElement(elOrSelector) {\r\n  if (!elOrSelector) return null;\r\n  if (typeof elOrSelector === 'string') {\r\n    return document.querySelector(elOrSelector);\r\n  }\r\n  return elOrSelector;\r\n}\r\n\r\nexport default function flyToCart(sourceEl, options = {}) {\r\n  if (typeof document === 'undefined' || typeof window === 'undefined') return;\r\n\r\n  const source = getElement(sourceEl || options.sourceSelector);\r\n  if (!source) return;\r\n\r\n  const target = getElement(options.targetSelector || TARGET_SELECTOR);\r\n  if (!target) return;\r\n\r\n  const sourceRect = source.getBoundingClientRect();\r\n  const targetRect = target.getBoundingClientRect();\r\n  if (!sourceRect.width || !sourceRect.height) return;\r\n\r\n  const clone = source.cloneNode(true);\r\n  clone.classList.add('fly-to-cart-clone');\r\n  clone.style.position = 'fixed';\r\n  clone.style.pointerEvents = 'none';\r\n  clone.style.margin = '0';\r\n  clone.style.top = `${sourceRect.top}px`;\r\n  clone.style.left = `${sourceRect.left}px`;\r\n  clone.style.width = `${sourceRect.width}px`;\r\n  clone.style.height = `${sourceRect.height}px`;\r\n  clone.style.transition = 'transform 0.7s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.7s ease';\r\n  clone.style.willChange = 'transform, opacity';\r\n  clone.style.opacity = '0.9';\r\n  document.body.appendChild(clone);\r\n\r\n  const deltaX = targetRect.left + targetRect.width / 2 - (sourceRect.left + sourceRect.width / 2);\r\n  const deltaY = targetRect.top + targetRect.height / 2 - (sourceRect.top + sourceRect.height / 2);\r\n  const scale = Math.max(0.25, Math.min(0.4, targetRect.width / sourceRect.width));\r\n\r\n  requestAnimationFrame(() => {\r\n    clone.style.transform = `translate3d(${deltaX}px, ${deltaY}px, 0) scale(${scale})`;\r\n    clone.style.opacity = '0.2';\r\n  });\r\n\r\n  const cleanup = () => {\r\n    clone.removeEventListener('transitionend', cleanup);\r\n    clone.remove();\r\n  };\r\n  clone.addEventListener('transitionend', cleanup);\r\n\r\n  target.classList.add('cart-btn--pulse');\r\n  window.setTimeout(() => target.classList.remove('cart-btn--pulse'), 600);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}