{"ast":null,"code":"function parseListSection(source = '', label) {\n  const regex = new RegExp(`${label}\\\\s*:\\\\s*([^\\\\n|]+)`, 'i');\n  const match = source.match(regex);\n  if (!match) return [];\n  return match[1].split(',').map(token => token.trim()).filter(Boolean);\n}\nexport function extractVariantOptions(product) {\n  var _product$variants, _product$variants2;\n  const colorOptions = Array.isArray(product === null || product === void 0 ? void 0 : product.color_options) ? product.color_options : [];\n  const sizeOptions = Array.isArray(product === null || product === void 0 ? void 0 : product.size_options) ? product.size_options : [];\n  const fallbackColors = Array.isArray(product === null || product === void 0 ? void 0 : (_product$variants = product.variants) === null || _product$variants === void 0 ? void 0 : _product$variants.colors) ? product.variants.colors : [];\n  const fallbackSizes = Array.isArray(product === null || product === void 0 ? void 0 : (_product$variants2 = product.variants) === null || _product$variants2 === void 0 ? void 0 : _product$variants2.sizes) ? product.variants.sizes : [];\n  let colors = colorOptions.length > 0 ? colorOptions : fallbackColors;\n  let sizes = sizeOptions.length > 0 ? sizeOptions : fallbackSizes;\n  if ((colors.length === 0 || sizes.length === 0) && typeof (product === null || product === void 0 ? void 0 : product.description) === 'string') {\n    const parsedColors = colors.length === 0 ? parseListSection(product.description, 'Colors?') : [];\n    const parsedSizes = sizes.length === 0 ? parseListSection(product.description, 'Sizes?') : [];\n    if (parsedColors.length > 0) {\n      colors = parsedColors;\n    }\n    if (parsedSizes.length > 0) {\n      sizes = parsedSizes;\n    }\n  }\n  return {\n    colors,\n    sizes\n  };\n}","map":{"version":3,"names":["parseListSection","source","label","regex","RegExp","match","split","map","token","trim","filter","Boolean","extractVariantOptions","product","_product$variants","_product$variants2","colorOptions","Array","isArray","color_options","sizeOptions","size_options","fallbackColors","variants","colors","fallbackSizes","sizes","length","description","parsedColors","parsedSizes"],"sources":["C:/VIET/PBL6/main/frontend/src/utils/variantUtils.js"],"sourcesContent":["function parseListSection(source = '', label) {\r\n  const regex = new RegExp(`${label}\\\\s*:\\\\s*([^\\\\n|]+)`, 'i');\r\n  const match = source.match(regex);\r\n  if (!match) return [];\r\n  return match[1]\r\n    .split(',')\r\n    .map((token) => token.trim())\r\n    .filter(Boolean);\r\n}\r\n\r\nexport function extractVariantOptions(product) {\r\n  const colorOptions = Array.isArray(product?.color_options) ? product.color_options : [];\r\n  const sizeOptions = Array.isArray(product?.size_options) ? product.size_options : [];\r\n\r\n  const fallbackColors = Array.isArray(product?.variants?.colors) ? product.variants.colors : [];\r\n  const fallbackSizes = Array.isArray(product?.variants?.sizes) ? product.variants.sizes : [];\r\n\r\n  let colors = colorOptions.length > 0 ? colorOptions : fallbackColors;\r\n  let sizes = sizeOptions.length > 0 ? sizeOptions : fallbackSizes;\r\n\r\n  if ((colors.length === 0 || sizes.length === 0) && typeof product?.description === 'string') {\r\n    const parsedColors = colors.length === 0 ? parseListSection(product.description, 'Colors?') : [];\r\n    const parsedSizes = sizes.length === 0 ? parseListSection(product.description, 'Sizes?') : [];\r\n    if (parsedColors.length > 0) {\r\n      colors = parsedColors;\r\n    }\r\n    if (parsedSizes.length > 0) {\r\n      sizes = parsedSizes;\r\n    }\r\n  }\r\n\r\n  return { colors, sizes };\r\n}\r\n"],"mappings":"AAAA,SAASA,gBAAgBA,CAACC,MAAM,GAAG,EAAE,EAAEC,KAAK,EAAE;EAC5C,MAAMC,KAAK,GAAG,IAAIC,MAAM,CAAC,GAAGF,KAAK,qBAAqB,EAAE,GAAG,CAAC;EAC5D,MAAMG,KAAK,GAAGJ,MAAM,CAACI,KAAK,CAACF,KAAK,CAAC;EACjC,IAAI,CAACE,KAAK,EAAE,OAAO,EAAE;EACrB,OAAOA,KAAK,CAAC,CAAC,CAAC,CACZC,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC,CAC5BC,MAAM,CAACC,OAAO,CAAC;AACpB;AAEA,OAAO,SAASC,qBAAqBA,CAACC,OAAO,EAAE;EAAA,IAAAC,iBAAA,EAAAC,kBAAA;EAC7C,MAAMC,YAAY,GAAGC,KAAK,CAACC,OAAO,CAACL,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEM,aAAa,CAAC,GAAGN,OAAO,CAACM,aAAa,GAAG,EAAE;EACvF,MAAMC,WAAW,GAAGH,KAAK,CAACC,OAAO,CAACL,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,YAAY,CAAC,GAAGR,OAAO,CAACQ,YAAY,GAAG,EAAE;EAEpF,MAAMC,cAAc,GAAGL,KAAK,CAACC,OAAO,CAACL,OAAO,aAAPA,OAAO,wBAAAC,iBAAA,GAAPD,OAAO,CAAEU,QAAQ,cAAAT,iBAAA,uBAAjBA,iBAAA,CAAmBU,MAAM,CAAC,GAAGX,OAAO,CAACU,QAAQ,CAACC,MAAM,GAAG,EAAE;EAC9F,MAAMC,aAAa,GAAGR,KAAK,CAACC,OAAO,CAACL,OAAO,aAAPA,OAAO,wBAAAE,kBAAA,GAAPF,OAAO,CAAEU,QAAQ,cAAAR,kBAAA,uBAAjBA,kBAAA,CAAmBW,KAAK,CAAC,GAAGb,OAAO,CAACU,QAAQ,CAACG,KAAK,GAAG,EAAE;EAE3F,IAAIF,MAAM,GAAGR,YAAY,CAACW,MAAM,GAAG,CAAC,GAAGX,YAAY,GAAGM,cAAc;EACpE,IAAII,KAAK,GAAGN,WAAW,CAACO,MAAM,GAAG,CAAC,GAAGP,WAAW,GAAGK,aAAa;EAEhE,IAAI,CAACD,MAAM,CAACG,MAAM,KAAK,CAAC,IAAID,KAAK,CAACC,MAAM,KAAK,CAAC,KAAK,QAAOd,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEe,WAAW,MAAK,QAAQ,EAAE;IAC3F,MAAMC,YAAY,GAAGL,MAAM,CAACG,MAAM,KAAK,CAAC,GAAG3B,gBAAgB,CAACa,OAAO,CAACe,WAAW,EAAE,SAAS,CAAC,GAAG,EAAE;IAChG,MAAME,WAAW,GAAGJ,KAAK,CAACC,MAAM,KAAK,CAAC,GAAG3B,gBAAgB,CAACa,OAAO,CAACe,WAAW,EAAE,QAAQ,CAAC,GAAG,EAAE;IAC7F,IAAIC,YAAY,CAACF,MAAM,GAAG,CAAC,EAAE;MAC3BH,MAAM,GAAGK,YAAY;IACvB;IACA,IAAIC,WAAW,CAACH,MAAM,GAAG,CAAC,EAAE;MAC1BD,KAAK,GAAGI,WAAW;IACrB;EACF;EAEA,OAAO;IAAEN,MAAM;IAAEE;EAAM,CAAC;AAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}