{"ast":null,"code":"var _jsxFileName = \"C:\\\\VIET\\\\PBL6\\\\main\\\\frontend\\\\src\\\\pages\\\\CategoryPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport ProductGrid from '../components/ProductGrid';\nimport ImageSearchUpload from '../components/ImageSearchUpload';\nimport Loading from '../components/Loading';\nimport '../assets/CategoryPage.css';\nimport Icon from '../components/Icon';\nimport usePageTitle from '../hooks/usePageTitle';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CategoryPage() {\n  _s();\n  var _ref, _ref2, _params$slug;\n  const params = useParams();\n  const rawCategoryParam = (_ref = (_ref2 = (_params$slug = params.slug) !== null && _params$slug !== void 0 ? _params$slug : params.categoryName) !== null && _ref2 !== void 0 ? _ref2 : params.category) !== null && _ref !== void 0 ? _ref : '';\n  const slugFromUrl = rawCategoryParam ? decodeURIComponent(rawCategoryParam) : '';\n  const navigate = useNavigate();\n\n  // Data\n  const [categories, setCategories] = useState([]);\n  const [products, setProducts] = useState([]);\n\n  // UI/Filter state\n  const [query, setQuery] = useState('');\n  const [priceRange, setPriceRange] = useState({\n    min: '',\n    max: ''\n  });\n  const [sortBy, setSortBy] = useState('relevance');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showFilters, setShowFilters] = useState(false);\n  const [imageResults, setImageResults] = useState(null); // danh sách trả về từ search ảnh\n\n  useEffect(() => {\n    let cancelled = false;\n    async function load() {\n      setLoading(true);\n      setError(null);\n      try {\n        var _cRes$results, _pRes$results;\n        const [cRes, pRes] = await Promise.all([fetch('http://localhost:8000/api/categories/').then(r => r.json()), fetch('http://localhost:8000/api/products/').then(r => r.json())]);\n        if (cancelled) return;\n        const cats = Array.isArray(cRes) ? cRes : (_cRes$results = cRes.results) !== null && _cRes$results !== void 0 ? _cRes$results : [];\n        const prods = Array.isArray(pRes) ? pRes : (_pRes$results = pRes.results) !== null && _pRes$results !== void 0 ? _pRes$results : [];\n        setCategories(cats);\n        setProducts(prods);\n      } catch (err) {\n        if (cancelled) return;\n        console.error('CategoryPage load error', err);\n        setError('Không thể tải dữ liệu. Vui lòng thử lại sau.');\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    }\n    load();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  // Determine active category\n  const activeCategoryObj = useMemo(() => {\n    var _categories$find;\n    if (!slugFromUrl) return null;\n    return (_categories$find = categories.find(c => {\n      var _c$slug, _c$name, _c$id;\n      const slug = String((_c$slug = c === null || c === void 0 ? void 0 : c.slug) !== null && _c$slug !== void 0 ? _c$slug : '').toLowerCase();\n      const name = String((_c$name = c === null || c === void 0 ? void 0 : c.name) !== null && _c$name !== void 0 ? _c$name : '').toLowerCase();\n      const id = String((_c$id = c === null || c === void 0 ? void 0 : c.id) !== null && _c$id !== void 0 ? _c$id : '').toLowerCase();\n      const param = String(rawCategoryParam !== null && rawCategoryParam !== void 0 ? rawCategoryParam : '').toLowerCase();\n      return slug === param || name === param || id === param;\n    })) !== null && _categories$find !== void 0 ? _categories$find : null;\n  }, [categories, rawCategoryParam, slugFromUrl]);\n  const pageTitle = (activeCategoryObj === null || activeCategoryObj === void 0 ? void 0 : activeCategoryObj.name) || slugFromUrl || 'Danh mục sản phẩm';\n  usePageTitle(pageTitle);\n\n  // Product matching\n  function productMatchesCategory(prod, identifier) {\n    var _ref3, _pc$id, _ref4, _pc$name, _pc$slug;\n    if (!identifier) return true;\n    const idNorm = String(identifier).toLowerCase();\n    const pc = prod.category;\n    if (pc == null) return false;\n    if (typeof pc === 'string' || typeof pc === 'number') {\n      const v = String(pc).toLowerCase();\n      return v === idNorm || v.includes(idNorm) || idNorm.includes(v);\n    }\n    const pid = String((_ref3 = (_pc$id = pc.id) !== null && _pc$id !== void 0 ? _pc$id : pc.pk) !== null && _ref3 !== void 0 ? _ref3 : '').toLowerCase();\n    const pname = String((_ref4 = (_pc$name = pc.name) !== null && _pc$name !== void 0 ? _pc$name : pc.title) !== null && _ref4 !== void 0 ? _ref4 : '').toLowerCase();\n    const pslug = String((_pc$slug = pc.slug) !== null && _pc$slug !== void 0 ? _pc$slug : '').toLowerCase();\n    return pid === idNorm || pname === idNorm || pslug === idNorm || pname.includes(idNorm) || pslug.includes(idNorm);\n  }\n\n  // Filtered products\n  const filteredProducts = useMemo(() => {\n    var _ref5, _activeCategoryObj$sl;\n    const activeIdentifier = activeCategoryObj ? (_ref5 = (_activeCategoryObj$sl = activeCategoryObj.slug) !== null && _activeCategoryObj$sl !== void 0 ? _activeCategoryObj$sl : activeCategoryObj.name) !== null && _ref5 !== void 0 ? _ref5 : String(activeCategoryObj.id) : slugFromUrl || '';\n    const q = (query || '').trim().toLowerCase();\n    const list = (products || []).filter(product => {\n      var _product$price;\n      if (activeIdentifier && !productMatchesCategory(product, activeIdentifier)) return false;\n      if (q) {\n        var _product$name, _product$description;\n        const name = String((_product$name = product.name) !== null && _product$name !== void 0 ? _product$name : '').toLowerCase();\n        const desc = String((_product$description = product.description) !== null && _product$description !== void 0 ? _product$description : '').toLowerCase();\n        if (!name.includes(q) && !desc.includes(q)) return false;\n      }\n      const price = Number((_product$price = product.price) !== null && _product$price !== void 0 ? _product$price : 0);\n      if (priceRange.min && price < Number(priceRange.min)) return false;\n      if (priceRange.max && price > Number(priceRange.max)) return false;\n      return true;\n    });\n    switch (sortBy) {\n      case 'price-low':\n        list.sort((a, b) => (Number(a.price) || 0) - (Number(b.price) || 0));\n        break;\n      case 'price-high':\n        list.sort((a, b) => (Number(b.price) || 0) - (Number(a.price) || 0));\n        break;\n      case 'name':\n        list.sort((a, b) => String(a.name).localeCompare(String(b.name)));\n        break;\n      case 'newest':\n        list.sort((a, b) => (b.id || 0) - (a.id || 0));\n        break;\n      default:\n        break;\n    }\n    return list;\n  }, [products, activeCategoryObj, slugFromUrl, query, priceRange, sortBy]);\n\n  // Header count dùng effectiveFiltered thay vì filteredProducts\n  const effectiveFiltered = useMemo(() => {\n    if (imageResults) return imageResults;\n    return filteredProducts;\n  }, [imageResults, filteredProducts]);\n  const ITEMS_PER_PAGE = 24;\n  const totalPages = Math.max(1, Math.ceil(effectiveFiltered.length / ITEMS_PER_PAGE));\n  useEffect(() => {\n    if (currentPage > totalPages) setCurrentPage(totalPages);\n  }, [currentPage, totalPages]);\n  const paginatedProducts = useMemo(() => {\n    const start = (currentPage - 1) * ITEMS_PER_PAGE;\n    return effectiveFiltered.slice(start, start + ITEMS_PER_PAGE);\n  }, [effectiveFiltered, currentPage]);\n\n  // Handlers\n  const handleCategoryChange = catSlugOrName => {\n    var _found$slug;\n    if (!catSlugOrName) {\n      navigate('/products');\n      return;\n    }\n    const found = categories.find(c => String(c.slug) === String(catSlugOrName) || String(c.name) === String(catSlugOrName) || String(c.id) === String(catSlugOrName));\n    const toSlug = found ? (_found$slug = found.slug) !== null && _found$slug !== void 0 ? _found$slug : found.name : catSlugOrName;\n    navigate(`/category/${encodeURIComponent(toSlug)}`);\n    setShowFilters(false);\n  };\n  const handleClearFilters = () => {\n    setQuery('');\n    setPriceRange({\n      min: '',\n      max: ''\n    });\n    setSortBy('relevance');\n    setCurrentPage(1);\n    setImageResults(null); // thoát chế độ tìm bằng ảnh\n  };\n\n  // replace handleImageFileChange usage bằng ImageSearchUpload\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category-page\",\n      children: /*#__PURE__*/_jsxDEV(Loading, {\n        message: \"\\u0110ang t\\u1EA3i s\\u1EA3n ph\\u1EA9m...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-icon\",\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            name: \"triangle-exclamation\",\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"C\\xF3 l\\u1ED7i x\\u1EA3y ra\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          className: \"btn btn-primary\",\n          children: \"Th\\u1EED l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"category-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breadcrumb\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            children: \"Trang ch\\u1EE7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"breadcrumb-separator\",\n            children: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"breadcrumb-current\",\n            children: (activeCategoryObj === null || activeCategoryObj === void 0 ? void 0 : activeCategoryObj.name) || slugFromUrl || 'Tất cả sản phẩm'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"category-title\",\n          children: (activeCategoryObj === null || activeCategoryObj === void 0 ? void 0 : activeCategoryObj.name) || slugFromUrl || 'Tất cả sản phẩm'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"category-subtitle\",\n          children: [effectiveFiltered.length, \" s\\u1EA3n ph\\u1EA9m\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          className: `filters-sidebar ${showFilters ? 'mobile-open' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"B\\u1ED9 l\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filters-close\",\n              onClick: () => setShowFilters(false),\n              \"aria-label\": \"\\u0110\\xF3ng b\\u1ED9 l\\u1ECDc\",\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                name: \"xmark\",\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"filter-label\",\n              children: \"T\\xECm ki\\u1EBFm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"filter-input\",\n              placeholder: \"T\\xECm s\\u1EA3n ph\\u1EA9m...\",\n              value: query,\n              onChange: e => setQuery(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"filter-label\",\n              children: \"Danh m\\u1EE5c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `category-item ${!slugFromUrl ? 'active' : ''}`,\n                onClick: () => handleCategoryChange(''),\n                children: \"T\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `category-item ${(activeCategoryObj === null || activeCategoryObj === void 0 ? void 0 : activeCategoryObj.id) === cat.id ? 'active' : ''}`,\n                onClick: () => handleCategoryChange(cat.slug || cat.name),\n                children: cat.name\n              }, cat.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"filter-label\",\n              children: \"Kho\\u1EA3ng gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price-range-inputs\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"filter-input\",\n                placeholder: \"T\\u1EEB\",\n                value: priceRange.min,\n                onChange: e => setPriceRange(prev => ({\n                  ...prev,\n                  min: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"price-separator\",\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"filter-input\",\n                placeholder: \"\\u0110\\u1EBFn\",\n                value: priceRange.max,\n                onChange: e => setPriceRange(prev => ({\n                  ...prev,\n                  max: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"filter-label\",\n              children: \"S\\u1EAFp x\\u1EBFp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"filter-select\",\n              value: sortBy,\n              onChange: e => setSortBy(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"relevance\",\n                children: \"Li\\xEAn quan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"price-low\",\n                children: \"Gi\\xE1: Th\\u1EA5p \\u0111\\u1EBFn cao\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"price-high\",\n                children: \"Gi\\xE1: Cao \\u0111\\u1EBFn th\\u1EA5p\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"name\",\n                children: \"T\\xEAn: A-Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"newest\",\n                children: \"M\\u1EDBi nh\\u1EA5t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-clear-filters\",\n            onClick: handleClearFilters,\n            children: \"X\\xF3a b\\u1ED9 l\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"products-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"products-toolbar\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-toggle-filters\",\n              onClick: () => setShowFilters(!showFilters),\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: \"filter\",\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"B\\u1ED9 l\\u1ECDc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ImageSearchUpload, {\n              k: 48,\n              onStart: () => setLoading(true),\n              onFinish: () => setLoading(false),\n              onResults: mapped => {\n                setImageResults(mapped);\n                setCurrentPage(1);\n                setShowFilters(false);\n              },\n              onError: msg => setError(msg)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), imageResults && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                marginLeft: 8\n              },\n              onClick: () => setImageResults(null),\n              children: \"H\\u1EE7y k\\u1EBFt qu\\u1EA3 \\u1EA3nh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"results-info\",\n              children: [\"Hi\\u1EC3n th\\u1ECB \", paginatedProducts.length, \" / \", effectiveFiltered.length, \" s\\u1EA3n ph\\u1EA9m\", imageResults && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: 8,\n                  color: '#888'\n                },\n                children: \"(k\\u1EBFt qu\\u1EA3 t\\u1EEB \\u1EA3nh)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), effectiveFiltered.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-icon\",\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                name: \"box-open\",\n                size: 32\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Vui l\\xF2ng th\\u1EED \\u0111i\\u1EC1u ch\\u1EC9nh b\\u1ED9 l\\u1ECDc ho\\u1EB7c t\\xECm ki\\u1EBFm kh\\xE1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: handleClearFilters,\n              children: \"X\\xF3a b\\u1ED9 l\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(ProductGrid, {\n              products: paginatedProducts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pagination\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"pagination-btn\",\n                onClick: () => setCurrentPage(p => Math.max(1, p - 1)),\n                disabled: currentPage === 1,\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"angle-left\",\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Tr\\u01B0\\u1EDBc\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pagination-pages\",\n                children: Array.from({\n                  length: totalPages\n                }, (_, i) => i + 1).map(page => /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `pagination-page ${currentPage === page ? 'active' : ''}`,\n                  onClick: () => setCurrentPage(page),\n                  children: page\n                }, page, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"pagination-btn\",\n                onClick: () => setCurrentPage(p => Math.min(totalPages, p + 1)),\n                disabled: currentPage === totalPages,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Sau\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"angle-right\",\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters-overlay-backdrop\",\n      onClick: () => setShowFilters(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n_s(CategoryPage, \"aE6ujBvpevHC9VM/+JdIOwwBXrY=\", false, function () {\n  return [useParams, useNavigate, usePageTitle];\n});\n_c = CategoryPage;\nvar _c;\n$RefreshReg$(_c, \"CategoryPage\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useParams","useNavigate","ProductGrid","ImageSearchUpload","Loading","Icon","usePageTitle","jsxDEV","_jsxDEV","Fragment","_Fragment","CategoryPage","_s","_ref","_ref2","_params$slug","params","rawCategoryParam","slug","categoryName","category","slugFromUrl","decodeURIComponent","navigate","categories","setCategories","products","setProducts","query","setQuery","priceRange","setPriceRange","min","max","sortBy","setSortBy","currentPage","setCurrentPage","loading","setLoading","error","setError","showFilters","setShowFilters","imageResults","setImageResults","cancelled","load","_cRes$results","_pRes$results","cRes","pRes","Promise","all","fetch","then","r","json","cats","Array","isArray","results","prods","err","console","activeCategoryObj","_categories$find","find","c","_c$slug","_c$name","_c$id","String","toLowerCase","name","id","param","pageTitle","productMatchesCategory","prod","identifier","_ref3","_pc$id","_ref4","_pc$name","_pc$slug","idNorm","pc","v","includes","pid","pk","pname","title","pslug","filteredProducts","_ref5","_activeCategoryObj$sl","activeIdentifier","q","trim","list","filter","product","_product$price","_product$name","_product$description","desc","description","price","Number","sort","a","b","localeCompare","effectiveFiltered","ITEMS_PER_PAGE","totalPages","Math","ceil","length","paginatedProducts","start","slice","handleCategoryChange","catSlugOrName","_found$slug","found","toSlug","encodeURIComponent","handleClearFilters","className","children","message","fileName","_jsxFileName","lineNumber","columnNumber","size","onClick","window","location","reload","href","type","placeholder","value","onChange","e","target","map","cat","prev","k","onStart","onFinish","onResults","mapped","onError","msg","style","marginLeft","color","p","disabled","from","_","i","page","_c","$RefreshReg$"],"sources":["C:/VIET/PBL6/main/frontend/src/pages/CategoryPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ProductGrid from '../components/ProductGrid';\r\nimport ImageSearchUpload from '../components/ImageSearchUpload';\r\nimport Loading from '../components/Loading';\r\nimport '../assets/CategoryPage.css';\r\nimport Icon from '../components/Icon';\r\nimport usePageTitle from '../hooks/usePageTitle';\r\n\r\nexport default function CategoryPage() {\r\n  const params = useParams();\r\n  const rawCategoryParam = params.slug ?? params.categoryName ?? params.category ?? '';\r\n  const slugFromUrl = rawCategoryParam ? decodeURIComponent(rawCategoryParam) : '';\r\n  const navigate = useNavigate();\r\n\r\n  // Data\r\n  const [categories, setCategories] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n\r\n  // UI/Filter state\r\n  const [query, setQuery] = useState('');\r\n  const [priceRange, setPriceRange] = useState({ min: '', max: '' });\r\n  const [sortBy, setSortBy] = useState('relevance');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [imageResults, setImageResults] = useState(null); // danh sách trả về từ search ảnh\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    async function load() {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const [cRes, pRes] = await Promise.all([\r\n          fetch('http://localhost:8000/api/categories/').then(r => r.json()),\r\n          fetch('http://localhost:8000/api/products/').then(r => r.json())\r\n        ]);\r\n        if (cancelled) return;\r\n        \r\n        const cats = Array.isArray(cRes) ? cRes : (cRes.results ?? []);\r\n        const prods = Array.isArray(pRes) ? pRes : (pRes.results ?? []);\r\n        \r\n        setCategories(cats);\r\n        setProducts(prods);\r\n      } catch (err) {\r\n        if (cancelled) return;\r\n        console.error('CategoryPage load error', err);\r\n        setError('Không thể tải dữ liệu. Vui lòng thử lại sau.');\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => { cancelled = true; };\r\n  }, []);\r\n\r\n  // Determine active category\r\n  const activeCategoryObj = useMemo(() => {\r\n    if (!slugFromUrl) return null;\r\n    return categories.find(c => {\r\n      const slug = String(c?.slug ?? '').toLowerCase();\r\n      const name = String(c?.name ?? '').toLowerCase();\r\n      const id = String(c?.id ?? '').toLowerCase();\r\n      const param = String(rawCategoryParam ?? '').toLowerCase();\r\n      return slug === param || name === param || id === param;\r\n    }) ?? null;\r\n  }, [categories, rawCategoryParam, slugFromUrl]);\r\n\r\n  const pageTitle = activeCategoryObj?.name || slugFromUrl || 'Danh mục sản phẩm';\r\n  usePageTitle(pageTitle);\r\n\r\n  // Product matching\r\n  function productMatchesCategory(prod, identifier) {\r\n    if (!identifier) return true;\r\n    const idNorm = String(identifier).toLowerCase();\r\n    const pc = prod.category;\r\n    if (pc == null) return false;\r\n\r\n    if (typeof pc === 'string' || typeof pc === 'number') {\r\n      const v = String(pc).toLowerCase();\r\n      return v === idNorm || v.includes(idNorm) || idNorm.includes(v);\r\n    }\r\n\r\n    const pid = String(pc.id ?? pc.pk ?? '').toLowerCase();\r\n    const pname = String(pc.name ?? pc.title ?? '').toLowerCase();\r\n    const pslug = String(pc.slug ?? '').toLowerCase();\r\n\r\n    return pid === idNorm || pname === idNorm || pslug === idNorm || \r\n           pname.includes(idNorm) || pslug.includes(idNorm);\r\n  }\r\n\r\n  // Filtered products\r\n  const filteredProducts = useMemo(() => {\r\n    const activeIdentifier = activeCategoryObj \r\n      ? (activeCategoryObj.slug ?? activeCategoryObj.name ?? String(activeCategoryObj.id))\r\n      : (slugFromUrl || '');\r\n    const q = (query || '').trim().toLowerCase();\r\n\r\n    const list = (products || []).filter(product => {\r\n      if (activeIdentifier && !productMatchesCategory(product, activeIdentifier)) return false;\r\n      \r\n      if (q) {\r\n        const name = String(product.name ?? '').toLowerCase();\r\n        const desc = String(product.description ?? '').toLowerCase();\r\n        if (!name.includes(q) && !desc.includes(q)) return false;\r\n      }\r\n      \r\n      const price = Number(product.price ?? 0);\r\n      if (priceRange.min && price < Number(priceRange.min)) return false;\r\n      if (priceRange.max && price > Number(priceRange.max)) return false;\r\n      \r\n      return true;\r\n    });\r\n\r\n    switch (sortBy) {\r\n      case 'price-low':\r\n        list.sort((a, b) => (Number(a.price) || 0) - (Number(b.price) || 0));\r\n        break;\r\n      case 'price-high':\r\n        list.sort((a, b) => (Number(b.price) || 0) - (Number(a.price) || 0));\r\n        break;\r\n      case 'name':\r\n        list.sort((a, b) => String(a.name).localeCompare(String(b.name)));\r\n        break;\r\n      case 'newest':\r\n        list.sort((a, b) => (b.id || 0) - (a.id || 0));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return list;\r\n  }, [products, activeCategoryObj, slugFromUrl, query, priceRange, sortBy]);\r\n\r\n  // Header count dùng effectiveFiltered thay vì filteredProducts\r\n  const effectiveFiltered = useMemo(() => {\r\n    if (imageResults) return imageResults;\r\n    return filteredProducts;\r\n  }, [imageResults, filteredProducts]);\r\n\r\n  const ITEMS_PER_PAGE = 24;\r\n  const totalPages = Math.max(1, Math.ceil(effectiveFiltered.length / ITEMS_PER_PAGE));\r\n  \r\n  useEffect(() => {\r\n    if (currentPage > totalPages) setCurrentPage(totalPages);\r\n  }, [currentPage, totalPages]);\r\n\r\n  const paginatedProducts = useMemo(() => {\r\n    const start = (currentPage - 1) * ITEMS_PER_PAGE;\r\n    return effectiveFiltered.slice(start, start + ITEMS_PER_PAGE);\r\n  }, [effectiveFiltered, currentPage]);\r\n\r\n  // Handlers\r\n  const handleCategoryChange = (catSlugOrName) => {\r\n    if (!catSlugOrName) {\r\n      navigate('/products');\r\n      return;\r\n    }\r\n    const found = categories.find(c => \r\n      String(c.slug) === String(catSlugOrName) || \r\n      String(c.name) === String(catSlugOrName) || \r\n      String(c.id) === String(catSlugOrName)\r\n    );\r\n    const toSlug = found ? (found.slug ?? found.name) : catSlugOrName;\r\n    navigate(`/category/${encodeURIComponent(toSlug)}`);\r\n    setShowFilters(false);\r\n  };\r\n\r\n  const handleClearFilters = () => {\r\n    setQuery('');\r\n    setPriceRange({ min: '', max: '' });\r\n    setSortBy('relevance');\r\n    setCurrentPage(1);\r\n    setImageResults(null); // thoát chế độ tìm bằng ảnh\r\n  };\r\n\r\n  // replace handleImageFileChange usage bằng ImageSearchUpload\r\n  if (loading) {\r\n    return (\r\n      <div className=\"category-page\">\r\n        <Loading message=\"Đang tải sản phẩm...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"category-page\">\r\n        <div className=\"error-container\">\r\n          <div className=\"error-icon\">\r\n            <Icon name=\"triangle-exclamation\" size={28} />\r\n          </div>\r\n          <h2>Có lỗi xảy ra</h2>\r\n          <p>{error}</p>\r\n          <button onClick={() => window.location.reload()} className=\"btn btn-primary\">\r\n            Thử lại\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"category-page\">\r\n      <div className=\"category-container\">\r\n        {/* Header */}\r\n        <div className=\"category-header\">\r\n          <div className=\"breadcrumb\">\r\n            <a href=\"/\">Trang chủ</a>\r\n            <span className=\"breadcrumb-separator\">/</span>\r\n            <span className=\"breadcrumb-current\">\r\n              {activeCategoryObj?.name || slugFromUrl || 'Tất cả sản phẩm'}\r\n            </span>\r\n          </div>\r\n          \r\n          <h1 className=\"category-title\">\r\n            {activeCategoryObj?.name || slugFromUrl || 'Tất cả sản phẩm'}\r\n          </h1>\r\n          \r\n          <p className=\"category-subtitle\">\r\n            {effectiveFiltered.length} sản phẩm\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"category-content\">\r\n          {/* Sidebar Filters */}\r\n          <aside className={`filters-sidebar ${showFilters ? 'mobile-open' : ''}`}>\r\n            <div className=\"filters-header\">\r\n              <h3>Bộ lọc</h3>\r\n              <button \r\n                className=\"filters-close\" \r\n                onClick={() => setShowFilters(false)}\r\n                aria-label=\"Đóng bộ lọc\"\r\n              >\r\n                <Icon name=\"xmark\" size={14} />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Search */}\r\n            <div className=\"filter-section\">\r\n              <label className=\"filter-label\">Tìm kiếm</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"filter-input\"\r\n                placeholder=\"Tìm sản phẩm...\"\r\n                value={query}\r\n                onChange={(e) => setQuery(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            {/* Categories */}\r\n            <div className=\"filter-section\">\r\n              <label className=\"filter-label\">Danh mục</label>\r\n              <div className=\"category-list\">\r\n                <button\r\n                  className={`category-item ${!slugFromUrl ? 'active' : ''}`}\r\n                  onClick={() => handleCategoryChange('')}\r\n                >\r\n                  Tất cả\r\n                </button>\r\n                {categories.map((cat) => (\r\n                  <button\r\n                    key={cat.id}\r\n                    className={`category-item ${\r\n                      activeCategoryObj?.id === cat.id ? 'active' : ''\r\n                    }`}\r\n                    onClick={() => handleCategoryChange(cat.slug || cat.name)}\r\n                  >\r\n                    {cat.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Price Range */}\r\n            <div className=\"filter-section\">\r\n              <label className=\"filter-label\">Khoảng giá</label>\r\n              <div className=\"price-range-inputs\">\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"filter-input\"\r\n                  placeholder=\"Từ\"\r\n                  value={priceRange.min}\r\n                  onChange={(e) => setPriceRange(prev => ({ ...prev, min: e.target.value }))}\r\n                />\r\n                <span className=\"price-separator\">-</span>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"filter-input\"\r\n                  placeholder=\"Đến\"\r\n                  value={priceRange.max}\r\n                  onChange={(e) => setPriceRange(prev => ({ ...prev, max: e.target.value }))}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Sort */}\r\n            <div className=\"filter-section\">\r\n              <label className=\"filter-label\">Sắp xếp</label>\r\n              <select\r\n                className=\"filter-select\"\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n              >\r\n                <option value=\"relevance\">Liên quan</option>\r\n                <option value=\"price-low\">Giá: Thấp đến cao</option>\r\n                <option value=\"price-high\">Giá: Cao đến thấp</option>\r\n                <option value=\"name\">Tên: A-Z</option>\r\n                <option value=\"newest\">Mới nhất</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Clear Filters */}\r\n            <button className=\"btn-clear-filters\" onClick={handleClearFilters}>\r\n              Xóa bộ lọc\r\n            </button>\r\n          </aside>\r\n\r\n          {/* Products Section */}\r\n          <div className=\"products-section\">\r\n            {/* Toolbar */}\r\n            <div className=\"products-toolbar\">\r\n              <button\r\n                className=\"btn-toggle-filters\"\r\n                onClick={() => setShowFilters(!showFilters)}\r\n              >\r\n                <Icon name=\"filter\" size={14} />\r\n                <span>Bộ lọc</span>\r\n              </button>\r\n\r\n              <ImageSearchUpload\r\n                k={48}\r\n                onStart={() => setLoading(true)}\r\n                onFinish={() => setLoading(false)}\r\n                onResults={(mapped) => {\r\n                  setImageResults(mapped);\r\n                  setCurrentPage(1);\r\n                  setShowFilters(false);\r\n                }}\r\n                onError={(msg) => setError(msg)}\r\n              />\r\n\r\n              {imageResults && (\r\n                <button className=\"btn\" style={{ marginLeft: 8 }} onClick={() => setImageResults(null)}>\r\n                  Hủy kết quả ảnh\r\n                </button>\r\n              )}\r\n\r\n              <div className=\"results-info\">\r\n                Hiển thị {paginatedProducts.length} / {effectiveFiltered.length} sản phẩm\r\n                {imageResults && <span style={{ marginLeft: 8, color: '#888' }}>(kết quả từ ảnh)</span>}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Products Grid */}\r\n            {effectiveFiltered.length === 0 ? (\r\n              <div className=\"empty-state\">\r\n                <div className=\"empty-icon\">\r\n                  <Icon name=\"box-open\" size={32} />\r\n                </div>\r\n                <h2>Không tìm thấy sản phẩm</h2>\r\n                <p>Vui lòng thử điều chỉnh bộ lọc hoặc tìm kiếm khác</p>\r\n                <button className=\"btn btn-primary\" onClick={handleClearFilters}>\r\n                  Xóa bộ lọc\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <ProductGrid products={paginatedProducts} />\r\n\r\n                {/* Pagination */}\r\n                {totalPages > 1 && (\r\n                  <div className=\"pagination\">\r\n                    <button\r\n                      className=\"pagination-btn\"\r\n                      onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\r\n                      disabled={currentPage === 1}\r\n                    >\r\n                      <Icon name=\"angle-left\" size={12} />\r\n                      <span>Trước</span>\r\n                    </button>\r\n                    \r\n                    <div className=\"pagination-pages\">\r\n                      {Array.from({ length: totalPages }, (_, i) => i + 1).map(page => (\r\n                        <button\r\n                          key={page}\r\n                          className={`pagination-page ${currentPage === page ? 'active' : ''}`}\r\n                          onClick={() => setCurrentPage(page)}\r\n                        >\r\n                          {page}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n\r\n                    <button\r\n                      className=\"pagination-btn\"\r\n                      onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\r\n                      disabled={currentPage === totalPages}\r\n                    >\r\n                      <span>Sau</span>\r\n                      <Icon name=\"angle-right\" size={12} />\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Overlay */}\r\n      {showFilters && (\r\n        <div \r\n          className=\"filters-overlay-backdrop\"\r\n          onClick={() => setShowFilters(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}