{"ast":null,"code":"const TARGET_SELECTOR='.cart-btn';function getElement(elOrSelector){if(!elOrSelector)return null;if(typeof elOrSelector==='string'){return document.querySelector(elOrSelector);}return elOrSelector;}export default function flyToCart(sourceEl){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof document==='undefined'||typeof window==='undefined')return;const source=getElement(sourceEl||options.sourceSelector);if(!source)return;const target=getElement(options.targetSelector||TARGET_SELECTOR);if(!target)return;const sourceRect=source.getBoundingClientRect();const targetRect=target.getBoundingClientRect();if(!sourceRect.width||!sourceRect.height)return;const clone=source.cloneNode(true);clone.classList.add('fly-to-cart-clone');clone.style.position='fixed';clone.style.pointerEvents='none';clone.style.margin='0';clone.style.top=\"\".concat(sourceRect.top,\"px\");clone.style.left=\"\".concat(sourceRect.left,\"px\");clone.style.width=\"\".concat(sourceRect.width,\"px\");clone.style.height=\"\".concat(sourceRect.height,\"px\");clone.style.transition='transform 0.7s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.7s ease';clone.style.willChange='transform, opacity';clone.style.opacity='0.9';document.body.appendChild(clone);const deltaX=targetRect.left+targetRect.width/2-(sourceRect.left+sourceRect.width/2);const deltaY=targetRect.top+targetRect.height/2-(sourceRect.top+sourceRect.height/2);const scale=Math.max(0.25,Math.min(0.4,targetRect.width/sourceRect.width));requestAnimationFrame(()=>{clone.style.transform=\"translate3d(\".concat(deltaX,\"px, \").concat(deltaY,\"px, 0) scale(\").concat(scale,\")\");clone.style.opacity='0.2';});const cleanup=()=>{clone.removeEventListener('transitionend',cleanup);clone.remove();};clone.addEventListener('transitionend',cleanup);target.classList.add('cart-btn--pulse');window.setTimeout(()=>target.classList.remove('cart-btn--pulse'),600);}","map":{"version":3,"names":["TARGET_SELECTOR","getElement","elOrSelector","document","querySelector","flyToCart","sourceEl","options","arguments","length","undefined","window","source","sourceSelector","target","targetSelector","sourceRect","getBoundingClientRect","targetRect","width","height","clone","cloneNode","classList","add","style","position","pointerEvents","margin","top","concat","left","transition","willChange","opacity","body","appendChild","deltaX","deltaY","scale","Math","max","min","requestAnimationFrame","transform","cleanup","removeEventListener","remove","addEventListener","setTimeout"],"sources":["C:/VIET/PBL6/main/frontend/src/utils/flyToCart.js"],"sourcesContent":["const TARGET_SELECTOR = '.cart-btn';\r\n\r\nfunction getElement(elOrSelector) {\r\n  if (!elOrSelector) return null;\r\n  if (typeof elOrSelector === 'string') {\r\n    return document.querySelector(elOrSelector);\r\n  }\r\n  return elOrSelector;\r\n}\r\n\r\nexport default function flyToCart(sourceEl, options = {}) {\r\n  if (typeof document === 'undefined' || typeof window === 'undefined') return;\r\n\r\n  const source = getElement(sourceEl || options.sourceSelector);\r\n  if (!source) return;\r\n\r\n  const target = getElement(options.targetSelector || TARGET_SELECTOR);\r\n  if (!target) return;\r\n\r\n  const sourceRect = source.getBoundingClientRect();\r\n  const targetRect = target.getBoundingClientRect();\r\n  if (!sourceRect.width || !sourceRect.height) return;\r\n\r\n  const clone = source.cloneNode(true);\r\n  clone.classList.add('fly-to-cart-clone');\r\n  clone.style.position = 'fixed';\r\n  clone.style.pointerEvents = 'none';\r\n  clone.style.margin = '0';\r\n  clone.style.top = `${sourceRect.top}px`;\r\n  clone.style.left = `${sourceRect.left}px`;\r\n  clone.style.width = `${sourceRect.width}px`;\r\n  clone.style.height = `${sourceRect.height}px`;\r\n  clone.style.transition = 'transform 0.7s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.7s ease';\r\n  clone.style.willChange = 'transform, opacity';\r\n  clone.style.opacity = '0.9';\r\n  document.body.appendChild(clone);\r\n\r\n  const deltaX = targetRect.left + targetRect.width / 2 - (sourceRect.left + sourceRect.width / 2);\r\n  const deltaY = targetRect.top + targetRect.height / 2 - (sourceRect.top + sourceRect.height / 2);\r\n  const scale = Math.max(0.25, Math.min(0.4, targetRect.width / sourceRect.width));\r\n\r\n  requestAnimationFrame(() => {\r\n    clone.style.transform = `translate3d(${deltaX}px, ${deltaY}px, 0) scale(${scale})`;\r\n    clone.style.opacity = '0.2';\r\n  });\r\n\r\n  const cleanup = () => {\r\n    clone.removeEventListener('transitionend', cleanup);\r\n    clone.remove();\r\n  };\r\n  clone.addEventListener('transitionend', cleanup);\r\n\r\n  target.classList.add('cart-btn--pulse');\r\n  window.setTimeout(() => target.classList.remove('cart-btn--pulse'), 600);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}