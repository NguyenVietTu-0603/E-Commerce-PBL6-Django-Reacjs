{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import{useCart}from'../utils/CartContext';import{formatPrice}from'../utils/formatPrice';import'../assets/productDetail.css';import StarRating from'../components/StarRating';import{getProductReviews,getReviewEligibility,submitReview}from'../utils/reviewsApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductDetail(){var _product$variants,_product$variants2,_product$category;const{id}=useParams();const navigate=useNavigate();const{addToCart}=useCart();const[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);const[mainImage,setMainImage]=useState('');const[color,setColor]=useState('');const[size,setSize]=useState('');const[qty,setQty]=useState(1);const[reviews,setReviews]=useState([]);const[avgRating,setAvgRating]=useState(0);const[ratingCount,setRatingCount]=useState(0);const[canReview,setCanReview]=useState(false);const[myReview,setMyReview]=useState(null);const[reviewRating,setReviewRating]=useState(0);const[reviewComment,setReviewComment]=useState('');const[reviewsLoading,setReviewsLoading]=useState(true);const[submitting,setSubmitting]=useState(false);useEffect(()=>{fetch(\"http://localhost:8000/api/products/\".concat(id,\"/\")).then(res=>{if(!res.ok)throw new Error('Product not found');return res.json();}).then(data=>{setProduct(data);setMainImage(data.image||'/default-product.png');setLoading(false);}).catch(err=>{console.error('Error loading product:',err);setLoading(false);});},[id]);useEffect(()=>{let cancelled=false;async function loadReviews(){try{setReviewsLoading(true);const[r1,r2]=await Promise.all([getProductReviews(id),getReviewEligibility(id).catch(()=>({can_review:false}))]);if(cancelled)return;setReviews(r1.reviews||[]);setAvgRating(Number(r1.average||0));setRatingCount(Number(r1.count||0));setCanReview(Boolean(r2.can_review));if(r2.my_review){setMyReview(r2.my_review);setReviewRating(r2.my_review.rating||0);setReviewComment(r2.my_review.comment||'');}else{setMyReview(null);setReviewRating(0);setReviewComment('');}if(r2.reason==='unauthenticated'){console.debug('Not logged in -> cannot review');}}finally{if(!cancelled)setReviewsLoading(false);}}loadReviews();return()=>{cancelled=true;};},[id]);async function handleSubmitReview(e){e.preventDefault();if(!reviewRating){alert('Vui l√≤ng ch·ªçn s·ªë sao');return;}try{setSubmitting(true);const saved=await submitReview(id,{rating:reviewRating,comment:reviewComment});// C·∫≠p nh·∫≠t tr·∫°ng th√°i c·ªßa ch√≠nh review\nsetMyReview(saved);setCanReview(false);// Refresh danh s√°ch + trung b√¨nh\nconst r=await getProductReviews(id);setReviews(r.reviews||[]);setAvgRating(Number(r.average||0));setRatingCount(Number(r.count||0));}catch(err){console.error(err);if(String(err).includes('401')||String(err.message||'').toLowerCase().includes('auth')){if(window.confirm('B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ ƒë√°nh gi√°. ƒêi ƒë·∫øn trang ƒëƒÉng nh·∫≠p?')){// ƒëi·ªÅu h∆∞·ªõng sang login n·∫øu app b·∫°n c√≥ route n√†y\nwindow.location.href='/login';}}else{alert('G·ª≠i ƒë√°nh gi√° th·∫•t b·∫°i. Vui l√≤ng th·ª≠ l·∫°i.');}}finally{setSubmitting(false);}}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"product-detail\",children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'80px 20px'},children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0110ang t\\u1EA3i s\\u1EA3n ph\\u1EA9m...\"})})});}if(!product){return/*#__PURE__*/_jsx(\"div\",{className:\"product-detail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pd-card\",style:{maxWidth:'600px',margin:'80px auto',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:'var(--accent)'},children:\"Quay v\\u1EC1 trang ch\\u1EE7\"})})]})});}const vouchers=product.vouchers||[];const colors=((_product$variants=product.variants)===null||_product$variants===void 0?void 0:_product$variants.colors)||[];const sizes=((_product$variants2=product.variants)===null||_product$variants2===void 0?void 0:_product$variants2.sizes)||[];const specs=product.specs||[];const description=product.description||'Ch∆∞a c√≥ m√¥ t·∫£ cho s·∫£n ph·∫©m n√†y.';// Shop info\nconst shop={id:product.seller_id,name:product.seller_name||'C·ª≠a h√†ng V-Market',avatar:'avatars/default-avatar.png',rating:product.rating||4.8,followers:product.followers||'150k'};function dec(){setQty(prev=>Math.max(1,prev-1));}function inc(){setQty(prev=>Math.min(prev+1,product.stock||999));}function handleAddToCart(){if(colors.length>0&&!color){alert('Vui l√≤ng ch·ªçn m√†u s·∫Øc');return;}if(sizes.length>0&&!size){alert('Vui l√≤ng ch·ªçn k√≠ch th∆∞·ªõc');return;}addToCart(product,qty,{color,size});alert(\"\\u0110\\xE3 th\\xEAm \".concat(qty,\" s\\u1EA3n ph\\u1EA9m v\\xE0o gi\\u1ECF h\\xE0ng\"));}function handleBuyNow(){if(colors.length>0&&!color){alert('Vui l√≤ng ch·ªçn m√†u s·∫Øc');return;}if(sizes.length>0&&!size){alert('Vui l√≤ng ch·ªçn k√≠ch th∆∞·ªõc');return;}addToCart(product,qty,{color,size});navigate('/cart');}function handleChatWithShop(){navigate(\"/chat/\".concat(shop.id,\"?product=\").concat(id));}function handleViewShop(){navigate(\"/shop/\".concat(shop.id));}return/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-inner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-media\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pd-main-media\",children:/*#__PURE__*/_jsx(\"img\",{src:mainImage,alt:product.name})}),product.images&&product.images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pd-thumbs\",children:product.images.map((img,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"pd-thumb \".concat(mainImage===img?'active':''),onClick:()=>setMainImage(img),children:/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"\".concat(product.name,\" \").concat(i+1)})},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsx(\"div\",{className:\"product-detail-price\",children:formatPrice(product.price)}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'8px 0 12px 0'},children:/*#__PURE__*/_jsx(StarRating,{value:avgRating,count:ratingCount,readOnly:true,showValue:true,size:16})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pd-card\",children:[vouchers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"pd-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pd-label\",children:\"Voucher\"}),/*#__PURE__*/_jsx(\"div\",{children:vouchers.map(v=>/*#__PURE__*/_jsx(\"span\",{className:\"pd-chip\",children:v},v))})]}),product.shipping&&/*#__PURE__*/_jsxs(\"div\",{className:\"pd-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pd-label\",children:\"V\\u1EADn chuy\\u1EC3n\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Giao \\u0111\\u1EBFn: \",/*#__PURE__*/_jsx(\"strong\",{children:product.shipping.area||'To√†n qu·ªëc'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'13px',color:'var(--text-muted)',marginTop:'4px'},children:[\"Ph\\xED ship: \",product.shipping.feeText||'Freeship ƒë∆°n t·ª´ 0ƒë']})]})]}),colors.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"pd-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pd-label\",children:\"M\\xE0u s\\u1EAFc\"}),/*#__PURE__*/_jsx(\"div\",{children:colors.map(c=>/*#__PURE__*/_jsx(\"button\",{className:\"pd-chip \".concat(color===c?'active':''),onClick:()=>setColor(c),children:c},c))})]}),sizes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"pd-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pd-label\",children:\"K\\xEDch th\\u01B0\\u1EDBc\"}),/*#__PURE__*/_jsx(\"div\",{children:sizes.map(s=>/*#__PURE__*/_jsx(\"button\",{className:\"pd-chip \".concat(size===s?'active':''),onClick:()=>setSize(s),children:s},s))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pd-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pd-label\",children:\"S\\u1ED1 l\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pd-qty\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:dec,children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:qty,readOnly:true}),/*#__PURE__*/_jsx(\"button\",{onClick:inc,children:\"+\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pd-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-cart\",onClick:handleAddToCart,children:\"Th\\xEAm v\\xE0o gi\\u1ECF\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buy-now\",onClick:handleBuyNow,children:\"Mua ngay\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pd-card shop-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"shop-avatar\",style:{backgroundImage:\"url(\".concat(shop.avatar,\")\"),backgroundSize:'cover',backgroundPosition:'center'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"shop-info\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 4px 0',fontSize:'16px',fontWeight:'700'},children:shop.name}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:'13px',color:'var(--text-muted)'},children:[\"\\u0110\\xE1nh gi\\xE1: \",/*#__PURE__*/_jsx(\"strong\",{children:shop.rating}),\" \\u2022 Ng\\u01B0\\u1EDDi theo d\\xF5i: \",/*#__PURE__*/_jsx(\"strong\",{children:shop.followers})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"shop-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleChatWithShop,children:\"Chat ngay\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewShop,children:\"Xem shop\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pd-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCE6 Danh m\\u1EE5c: \",((_product$category=product.category)===null||_product$category===void 0?void 0:_product$category.name)||'Ch∆∞a ph√¢n lo·∫°i']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCA C\\xF2n l\\u1EA1i: \",product.stock||0,\" s\\u1EA3n ph\\u1EA9m\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-sections\",children:[specs.length>0&&/*#__PURE__*/_jsxs(\"section\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"div\",{className:\"specs\",children:specs.map((spec,i)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pd-label\",children:[spec.label||spec[0],\":\"]}),/*#__PURE__*/_jsx(\"div\",{children:spec.value||spec[1]})]},i))})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"M\\xF4 t\\u1EA3 s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pd-description\",children:/*#__PURE__*/_jsx(\"pre\",{children:description})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0110\\xE1nh gi\\xE1 s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:16,marginBottom:12},children:[/*#__PURE__*/_jsx(StarRating,{value:avgRating,count:ratingCount,readOnly:true,showValue:true,size:20}),reviewsLoading?/*#__PURE__*/_jsx(\"span\",{children:\"\\u0110ang t\\u1EA3i \\u0111\\xE1nh gi\\xE1...\"}):null]}),(canReview||myReview)&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitReview,className:\"pd-card\",style:{marginBottom:16},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:10},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:6},children:myReview?'C·∫≠p nh·∫≠t ƒë√°nh gi√° c·ªßa b·∫°n':'ƒê√°nh gi√° c·ªßa b·∫°n'}),/*#__PURE__*/_jsx(StarRating,{value:reviewRating,readOnly:false,onChange:setReviewRating,size:24})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:10},children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Chia s\\u1EBB c\\u1EA3m nh\\u1EADn v\\u1EC1 s\\u1EA3n ph\\u1EA9m...\",value:reviewComment,onChange:e=>setReviewComment(e.target.value),rows:4,style:{width:'100%',padding:10,borderRadius:6,border:'1px solid #e5e7eb'}})}),/*#__PURE__*/_jsx(\"button\",{className:\"add-cart\",disabled:submitting,children:submitting?'ƒêang g·ª≠i...':myReview?'C·∫≠p nh·∫≠t ƒë√°nh gi√°':'G·ª≠i ƒë√°nh gi√°'})]}),!canReview&&!reviewsLoading&&!myReview&&/*#__PURE__*/_jsxs(\"div\",{className:\"pd-card\",style:{color:'var(--text-muted)'},children:[\"Ch\\u1EC9 ng\\u01B0\\u1EDDi \\u0111\\xE3 mua s\\u1EA3n ph\\u1EA9m m\\u1EDBi c\\xF3 th\\u1EC3 \\u0111\\xE1nh gi\\xE1. \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",style:{color:'var(--accent)'},children:\"\\u0110\\u0103ng nh\\u1EADp\"})]}),reviews.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"pd-card\",style:{display:'grid',gap:12},children:reviews.map(rv=>/*#__PURE__*/_jsxs(\"div\",{style:{borderBottom:'1px solid #f0f0f0',paddingBottom:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:14},children:rv.user_name||'Ng∆∞·ªùi d√πng'}),/*#__PURE__*/_jsx(StarRating,{value:rv.rating,readOnly:true,size:14}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,color:'var(--text-muted)'},children:rv.created_at?new Date(rv.created_at).toLocaleDateString('vi-VN'):''})]}),rv.comment?/*#__PURE__*/_jsx(\"div\",{style:{marginTop:6,whiteSpace:'pre-wrap'},children:rv.comment}):null]},rv.id||\"\".concat(rv.user_id,\"-\").concat(rv.created_at)))}):!reviewsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"pd-card\",style:{color:'var(--text-muted)'},children:\"Ch\\u01B0a c\\xF3 \\u0111\\xE1nh gi\\xE1 n\\xE0o.\"}):null]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","useCart","formatPrice","StarRating","getProductReviews","getReviewEligibility","submitReview","jsx","_jsx","jsxs","_jsxs","ProductDetail","_product$variants","_product$variants2","_product$category","id","navigate","addToCart","product","setProduct","loading","setLoading","mainImage","setMainImage","color","setColor","size","setSize","qty","setQty","reviews","setReviews","avgRating","setAvgRating","ratingCount","setRatingCount","canReview","setCanReview","myReview","setMyReview","reviewRating","setReviewRating","reviewComment","setReviewComment","reviewsLoading","setReviewsLoading","submitting","setSubmitting","fetch","concat","then","res","ok","Error","json","data","image","catch","err","console","error","cancelled","loadReviews","r1","r2","Promise","all","can_review","Number","average","count","Boolean","my_review","rating","comment","reason","debug","handleSubmitReview","e","preventDefault","alert","saved","r","String","includes","message","toLowerCase","window","confirm","location","href","className","children","style","textAlign","padding","maxWidth","margin","to","vouchers","colors","variants","sizes","specs","description","shop","seller_id","name","seller_name","avatar","followers","dec","prev","Math","max","inc","min","stock","handleAddToCart","length","handleBuyNow","handleChatWithShop","handleViewShop","src","alt","images","map","img","i","onClick","price","value","readOnly","showValue","v","shipping","area","fontSize","marginTop","feeText","c","s","type","backgroundImage","backgroundSize","backgroundPosition","fontWeight","category","spec","Fragment","label","display","alignItems","gap","marginBottom","onSubmit","onChange","placeholder","target","rows","width","borderRadius","border","disabled","rv","borderBottom","paddingBottom","user_name","created_at","Date","toLocaleDateString","whiteSpace","user_id"],"sources":["C:/VIET/PBL6/main/frontend/src/pages/ProductDetail.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport { useCart } from '../utils/CartContext';\r\nimport { formatPrice } from '../utils/formatPrice';\r\nimport '../assets/productDetail.css';\r\nimport StarRating from '../components/StarRating';\r\nimport { getProductReviews, getReviewEligibility, submitReview } from '../utils/reviewsApi';\r\n\r\nexport default function ProductDetail() {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const { addToCart } = useCart();\r\n\r\n    const [product, setProduct] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [mainImage, setMainImage] = useState('');\r\n    const [color, setColor] = useState('');\r\n    const [size, setSize] = useState('');\r\n    const [qty, setQty] = useState(1);\r\n    const [reviews, setReviews] = useState([]);\r\n    const [avgRating, setAvgRating] = useState(0);\r\n    const [ratingCount, setRatingCount] = useState(0);\r\n    const [canReview, setCanReview] = useState(false);\r\n    const [myReview, setMyReview] = useState(null);\r\n    const [reviewRating, setReviewRating] = useState(0);\r\n    const [reviewComment, setReviewComment] = useState('');\r\n    const [reviewsLoading, setReviewsLoading] = useState(true);\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetch(`http://localhost:8000/api/products/${id}/`)\r\n            .then(res => {\r\n                if (!res.ok) throw new Error('Product not found');\r\n                return res.json();\r\n            })\r\n            .then(data => {\r\n                setProduct(data);\r\n                setMainImage(data.image || '/default-product.png');\r\n                setLoading(false);\r\n            })\r\n            .catch(err => {\r\n                console.error('Error loading product:', err);\r\n                setLoading(false);\r\n            });\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        let cancelled = false;\r\n        async function loadReviews() {\r\n            try {\r\n                setReviewsLoading(true);\r\n                const [r1, r2] = await Promise.all([\r\n                    getProductReviews(id),\r\n                    getReviewEligibility(id).catch(() => ({ can_review: false }))\r\n                ]);\r\n                if (cancelled) return;\r\n                setReviews(r1.reviews || []);\r\n                setAvgRating(Number(r1.average || 0));\r\n                setRatingCount(Number(r1.count || 0));\r\n                setCanReview(Boolean(r2.can_review));\r\n                if (r2.my_review) {\r\n                    setMyReview(r2.my_review);\r\n                    setReviewRating(r2.my_review.rating || 0);\r\n                    setReviewComment(r2.my_review.comment || '');\r\n                } else {\r\n                    setMyReview(null);\r\n                    setReviewRating(0);\r\n                    setReviewComment('');\r\n                }\r\n                if (r2.reason === 'unauthenticated') {\r\n                    console.debug('Not logged in -> cannot review');\r\n                }\r\n            } finally {\r\n                if (!cancelled) setReviewsLoading(false);\r\n            }\r\n        }\r\n        loadReviews();\r\n        return () => { cancelled = true; };\r\n    }, [id]);\r\n\r\n    async function handleSubmitReview(e) {\r\n        e.preventDefault();\r\n        if (!reviewRating) {\r\n            alert('Vui l√≤ng ch·ªçn s·ªë sao');\r\n            return;\r\n        }\r\n        try {\r\n            setSubmitting(true);\r\n            const saved = await submitReview(id, { rating: reviewRating, comment: reviewComment });\r\n            // C·∫≠p nh·∫≠t tr·∫°ng th√°i c·ªßa ch√≠nh review\r\n            setMyReview(saved);\r\n            setCanReview(false);\r\n            // Refresh danh s√°ch + trung b√¨nh\r\n            const r = await getProductReviews(id);\r\n            setReviews(r.reviews || []);\r\n            setAvgRating(Number(r.average || 0));\r\n            setRatingCount(Number(r.count || 0));\r\n        } catch (err) {\r\n            console.error(err);\r\n            if (String(err).includes('401') || String(err.message || '').toLowerCase().includes('auth')) {\r\n                if (window.confirm('B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ ƒë√°nh gi√°. ƒêi ƒë·∫øn trang ƒëƒÉng nh·∫≠p?')) {\r\n                    // ƒëi·ªÅu h∆∞·ªõng sang login n·∫øu app b·∫°n c√≥ route n√†y\r\n                    window.location.href = '/login';\r\n                }\r\n            } else {\r\n                alert('G·ª≠i ƒë√°nh gi√° th·∫•t b·∫°i. Vui l√≤ng th·ª≠ l·∫°i.');\r\n            }\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"product-detail\">\r\n                <div style={{ textAlign: 'center', padding: '80px 20px' }}>\r\n                    <p>ƒêang t·∫£i s·∫£n ph·∫©m...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!product) {\r\n        return (\r\n            <div className=\"product-detail\">\r\n                <div className=\"pd-card\" style={{ maxWidth: '600px', margin: '80px auto', textAlign: 'center' }}>\r\n                    <h2>Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m</h2>\r\n                    <p><Link to=\"/\" style={{ color: 'var(--accent)' }}>Quay v·ªÅ trang ch·ªß</Link></p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const vouchers = product.vouchers || [];\r\n    const colors = product.variants?.colors || [];\r\n    const sizes = product.variants?.sizes || [];\r\n    const specs = product.specs || [];\r\n    const description = product.description || 'Ch∆∞a c√≥ m√¥ t·∫£ cho s·∫£n ph·∫©m n√†y.';\r\n\r\n    // Shop info\r\n    const shop = {\r\n        id: product.seller_id,\r\n        name: product.seller_name || 'C·ª≠a h√†ng V-Market',\r\n        avatar: 'avatars/default-avatar.png',\r\n        rating: product.rating || 4.8,\r\n        followers: product.followers || '150k'\r\n    };\r\n\r\n    function dec() {\r\n        setQty(prev => Math.max(1, prev - 1));\r\n    }\r\n\r\n    function inc() {\r\n        setQty(prev => Math.min(prev + 1, product.stock || 999));\r\n    }\r\n\r\n    function handleAddToCart() {\r\n        if (colors.length > 0 && !color) {\r\n            alert('Vui l√≤ng ch·ªçn m√†u s·∫Øc');\r\n            return;\r\n        }\r\n        if (sizes.length > 0 && !size) {\r\n            alert('Vui l√≤ng ch·ªçn k√≠ch th∆∞·ªõc');\r\n            return;\r\n        }\r\n        addToCart(product, qty, { color, size });\r\n        alert(`ƒê√£ th√™m ${qty} s·∫£n ph·∫©m v√†o gi·ªè h√†ng`);\r\n    }\r\n\r\n    function handleBuyNow() {\r\n        if (colors.length > 0 && !color) {\r\n            alert('Vui l√≤ng ch·ªçn m√†u s·∫Øc');\r\n            return;\r\n        }\r\n        if (sizes.length > 0 && !size) {\r\n            alert('Vui l√≤ng ch·ªçn k√≠ch th∆∞·ªõc');\r\n            return;\r\n        }\r\n        addToCart(product, qty, { color, size });\r\n        navigate('/cart');\r\n    }\r\n\r\n    function handleChatWithShop() {\r\n        navigate(`/chat/${shop.id}?product=${id}`);\r\n    }\r\n\r\n    function handleViewShop() {\r\n        navigate(`/shop/${shop.id}`);\r\n    }\r\n\r\n    return (\r\n        <div className=\"product-detail\">\r\n            <div className=\"product-detail-inner\">\r\n                {/* Left: Media */}\r\n                <div className=\"product-detail-media\">\r\n                    <div className=\"pd-main-media\">\r\n                        <img src={mainImage} alt={product.name} />\r\n                    </div>\r\n\r\n                    {product.images && product.images.length > 0 && (\r\n                        <div className=\"pd-thumbs\">\r\n                            {product.images.map((img, i) => (\r\n                                <div\r\n                                    key={i}\r\n                                    className={`pd-thumb ${mainImage === img ? 'active' : ''}`}\r\n                                    onClick={() => setMainImage(img)}\r\n                                >\r\n                                    <img src={img} alt={`${product.name} ${i + 1}`} />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Right: Info */}\r\n                <div className=\"product-detail-info\">\r\n                    <h1>{product.name}</h1>\r\n                    <div className=\"product-detail-price\">\r\n                        {formatPrice(product.price)}\r\n                    </div>\r\n\r\n                    {/* Rating summary line */}\r\n                    <div style={{ margin: '8px 0 12px 0' }}>\r\n                        <StarRating value={avgRating} count={ratingCount} readOnly showValue size={16} />\r\n                    </div>\r\n\r\n                    <div className=\"pd-card\">\r\n                        {/* Voucher */}\r\n                        {vouchers.length > 0 && (\r\n                            <div className=\"pd-row\">\r\n                                <div className=\"pd-label\">Voucher</div>\r\n                                <div>\r\n                                    {vouchers.map(v => (\r\n                                        <span key={v} className=\"pd-chip\">{v}</span>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* V·∫≠n chuy·ªÉn */}\r\n                        {product.shipping && (\r\n                            <div className=\"pd-row\">\r\n                                <div className=\"pd-label\">V·∫≠n chuy·ªÉn</div>\r\n                                <div>\r\n                                    <div>Giao ƒë·∫øn: <strong>{product.shipping.area || 'To√†n qu·ªëc'}</strong></div>\r\n                                    <div style={{ fontSize: '13px', color: 'var(--text-muted)', marginTop: '4px' }}>\r\n                                        Ph√≠ ship: {product.shipping.feeText || 'Freeship ƒë∆°n t·ª´ 0ƒë'}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Color selection */}\r\n                        {colors.length > 0 && (\r\n                            <div className=\"pd-row\">\r\n                                <div className=\"pd-label\">M√†u s·∫Øc</div>\r\n                                <div>\r\n                                    {colors.map(c => (\r\n                                        <button\r\n                                            key={c}\r\n                                            className={`pd-chip ${color === c ? 'active' : ''}`}\r\n                                            onClick={() => setColor(c)}\r\n                                        >\r\n                                            {c}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Size selection */}\r\n                        {sizes.length > 0 && (\r\n                            <div className=\"pd-row\">\r\n                                <div className=\"pd-label\">K√≠ch th∆∞·ªõc</div>\r\n                                <div>\r\n                                    {sizes.map(s => (\r\n                                        <button\r\n                                            key={s}\r\n                                            className={`pd-chip ${size === s ? 'active' : ''}`}\r\n                                            onClick={() => setSize(s)}\r\n                                        >\r\n                                            {s}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Quantity */}\r\n                        <div className=\"pd-row\">\r\n                            <div className=\"pd-label\">S·ªë l∆∞·ª£ng</div>\r\n                            <div>\r\n                                <div className=\"pd-qty\">\r\n                                    <button onClick={dec}>‚àí</button>\r\n                                    <input type=\"number\" value={qty} readOnly />\r\n                                    <button onClick={inc}>+</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"pd-actions\">\r\n                            <button className=\"add-cart\" onClick={handleAddToCart}>\r\n                                Th√™m v√†o gi·ªè\r\n                            </button>\r\n                            <button className=\"buy-now\" onClick={handleBuyNow}>\r\n                                Mua ngay\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Shop card */}\r\n                    <div className=\"pd-card shop-card\">\r\n                        <div\r\n                            className=\"shop-avatar\"\r\n                            style={{\r\n                                backgroundImage: `url(${shop.avatar})`,\r\n                                backgroundSize: 'cover',\r\n                                backgroundPosition: 'center'\r\n                            }}\r\n                        />\r\n                        <div className=\"shop-info\">\r\n                            <h4 style={{ margin: '0 0 4px 0', fontSize: '16px', fontWeight: '700' }}>\r\n                                {shop.name}\r\n                            </h4>\r\n                            <p style={{ margin: 0, fontSize: '13px', color: 'var(--text-muted)' }}>\r\n                                ƒê√°nh gi√°: <strong>{shop.rating}</strong> ‚Ä¢ Ng∆∞·ªùi theo d√µi: <strong>{shop.followers}</strong>\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"shop-actions\">\r\n                            <button onClick={handleChatWithShop}>Chat ngay</button>\r\n                            <button onClick={handleViewShop}>Xem shop</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Meta info */}\r\n                    <div className=\"pd-meta\">\r\n                        <div>üì¶ Danh m·ª•c: {product.category?.name || 'Ch∆∞a ph√¢n lo·∫°i'}</div>\r\n                        <div>üìä C√≤n l·∫°i: {product.stock || 0} s·∫£n ph·∫©m</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Sections below */}\r\n            <div className=\"detail-sections\">\r\n                {/* Specifications */}\r\n                {specs.length > 0 && (\r\n                    <section className=\"detail-section\">\r\n                        <h3>Chi ti·∫øt s·∫£n ph·∫©m</h3>\r\n                        <div className=\"specs\">\r\n                            {specs.map((spec, i) => (\r\n                                <React.Fragment key={i}>\r\n                                    <div className=\"pd-label\">{spec.label || spec[0]}:</div>\r\n                                    <div>{spec.value || spec[1]}</div>\r\n                                </React.Fragment>\r\n                            ))}\r\n                        </div>\r\n                    </section>\r\n                )}\r\n\r\n                {/* Description */}\r\n                <section className=\"detail-section\">\r\n                    <h3>M√¥ t·∫£ s·∫£n ph·∫©m</h3>\r\n                    <div className=\"pd-description\">\r\n                        <pre>{description}</pre>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Reviews */}\r\n                <section className=\"detail-section\">\r\n                    <h3>ƒê√°nh gi√° s·∫£n ph·∫©m</h3>\r\n\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 16, marginBottom: 12 }}>\r\n                        <StarRating value={avgRating} count={ratingCount} readOnly showValue size={20} />\r\n                        {reviewsLoading ? <span>ƒêang t·∫£i ƒë√°nh gi√°...</span> : null}\r\n                    </div>\r\n\r\n                    {(canReview || myReview) && (\r\n                        <form onSubmit={handleSubmitReview} className=\"pd-card\" style={{ marginBottom: 16 }}>\r\n                            <div style={{ marginBottom: 10 }}>\r\n                                <div style={{ marginBottom: 6 }}>{myReview ? 'C·∫≠p nh·∫≠t ƒë√°nh gi√° c·ªßa b·∫°n' : 'ƒê√°nh gi√° c·ªßa b·∫°n'}</div>\r\n                                <StarRating\r\n                                    value={reviewRating}\r\n                                    readOnly={false}\r\n                                    onChange={setReviewRating}\r\n                                    size={24}\r\n                                />\r\n                            </div>\r\n                            <div style={{ marginBottom: 10 }}>\r\n                                <textarea\r\n                                    placeholder=\"Chia s·∫ª c·∫£m nh·∫≠n v·ªÅ s·∫£n ph·∫©m...\"\r\n                                    value={reviewComment}\r\n                                    onChange={(e) => setReviewComment(e.target.value)}\r\n                                    rows={4}\r\n                                    style={{ width: '100%', padding: 10, borderRadius: 6, border: '1px solid #e5e7eb' }}\r\n                                />\r\n                            </div>\r\n                            <button className=\"add-cart\" disabled={submitting}>\r\n                                {submitting ? 'ƒêang g·ª≠i...' : (myReview ? 'C·∫≠p nh·∫≠t ƒë√°nh gi√°' : 'G·ª≠i ƒë√°nh gi√°')}\r\n                            </button>\r\n                        </form>\r\n                    )}\r\n\r\n                    {!canReview && !reviewsLoading && !myReview && (\r\n                        <div className=\"pd-card\" style={{ color: 'var(--text-muted)' }}>\r\n                            Ch·ªâ ng∆∞·ªùi ƒë√£ mua s·∫£n ph·∫©m m·ªõi c√≥ th·ªÉ ƒë√°nh gi√°. <a href=\"/login\" style={{ color: 'var(--accent)' }}>ƒêƒÉng nh·∫≠p</a>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Reviews list */}\r\n                    {reviews.length > 0 ? (\r\n                        <div className=\"pd-card\" style={{ display: 'grid', gap: 12 }}>\r\n                            {reviews.map((rv) => (\r\n                                <div key={rv.id || `${rv.user_id}-${rv.created_at}`} style={{ borderBottom: '1px solid #f0f0f0', paddingBottom: 10 }}>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                                        <strong style={{ fontSize: 14 }}>{rv.user_name || 'Ng∆∞·ªùi d√πng'}</strong>\r\n                                        <StarRating value={rv.rating} readOnly size={14} />\r\n                                        <span style={{ fontSize: 12, color: 'var(--text-muted)' }}>\r\n                                            {rv.created_at ? new Date(rv.created_at).toLocaleDateString('vi-VN') : ''}\r\n                                        </span>\r\n                                    </div>\r\n                                    {rv.comment ? (\r\n                                        <div style={{ marginTop: 6, whiteSpace: 'pre-wrap' }}>{rv.comment}</div>\r\n                                    ) : null}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : !reviewsLoading ? (\r\n                        <div className=\"pd-card\" style={{ color: 'var(--text-muted)' }}>\r\n                            Ch∆∞a c√≥ ƒë√°nh gi√° n√†o.\r\n                        </div>\r\n                    ) : null}\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}